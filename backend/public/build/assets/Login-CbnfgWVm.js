import{_ as A,r as g,E as z,u as N,D as U,i as R,z as j,c as u,G as f,d as a,t as l,a as e,s as S,x,y as O,w as G,b as F,v as H,L as Y,H as q,n as J,e as h,F as K,S as _,f as Q,o as m}from"./app-BOhBFs9K.js";import{e as W,g as X,F as Z}from"./index-D3ZCib-F.js";/* empty css            */const ee={key:0,class:"powerBy"},se={key:1,class:"version-badge"},te={key:2,class:"bg-light d-flex align-items-center justify-content-center flex-grow-1"},oe={class:"login-wizard bg-white col-12 col-lg-8 theme-shadow p-2 p-xl-4 h-100"},ae={class:"row"},le={class:"col-12 col-lg-6 px-5 py-3 my-auto"},ne={class:"text-center logo-img mb-5"},ie=["src"],re={class:"d-flex pb-3"},de={class:"my-auto w-100"},ce={class:"fw-bold mb-3"},ue={class:"text-muted"},me={class:"mb-4"},pe=["placeholder"],ge={key:0,class:"text-danger fw-bold mt-2"},fe={class:"mb-3 position-relative"},ve=["type","placeholder"],ye={key:0,class:"text-danger fw-bold mt-2"},he={type:"submit",class:"btn btn-primary w-100 rounded-pill"},_e={key:0,class:"border p-3 d-flex align-items-center justify-content-between rounded-4 my-3"},we={__name:"Login",setup(be){let p=g("");const k=g(!1),$=Q(),I=z(),r=N(),w=g(""),b=g(""),D=g("Sign in"),{t:M}=U();let d=g(!1);const P=async()=>{var t,s,c,n,v,y;try{k.value=!0,D.value="Signing in...";const o=await j.post("/login",{email:w.value,password:b.value});I.setAuthData(o.data.data.token,o.data.data.user),_.fire({icon:"success",title:"Success",text:"Login successful",showConfirmButton:!1,timer:1500}),localStorage.getItem("handle_course_id")?($.push("/checkout/"+localStorage.getItem("handle_course_id")),localStorage.removeItem("handle_course_id")):$.push("/dashboard")}catch(o){k.value=!1,(t=o==null?void 0:o.response)!=null&&t.data.errors?p.value=(s=o==null?void 0:o.response)==null?void 0:s.data.errors:p.value=(c=o==null?void 0:o.response)==null?void 0:c.data.message,D.value="Sign in",((n=o==null?void 0:o.response)==null?void 0:n.status)===403&&_.fire({icon:"error",title:"Oops...",text:((y=(v=o.response)==null?void 0:v.data)==null?void 0:y.message)||"Login failed. Please try again."})}},V=(t,s)=>{w.value=t,b.value=s,_.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:n=>{n.onmouseenter=_.stopTimer,n.onmouseleave=_.resumeTimer}}).fire({icon:"success",title:M("Demo credentials copied Successfully!!")})};return R(async()=>{r.data||j.get("/master",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(t=>{r.setMasterData(t.data.data.master)}).catch(t=>{console.error("Error fetching data:",t)})}),(t,s)=>{var n,v,y,o,C,B,T,E;const c=O("router-link");return m(),u(K,null,[((v=(n=a(r))==null?void 0:n.masterData)==null?void 0:v.mode)=="local"?(m(),u("div",ee,"Powered by RazinSoft Â©"+l(new Date().getFullYear()),1)):f("",!0),((o=(y=a(r))==null?void 0:y.masterData)==null?void 0:o.mode)=="local"?(m(),u("div",se,"v"+l((B=(C=a(r))==null?void 0:C.masterData)==null?void 0:B.version),1)):f("",!0),t.loadder?f("",!0):(m(),u("section",te,[e("section",oe,[e("div",ae,[e("div",le,[e("div",ne,[S(c,{to:"/"},{default:x(()=>{var i,L;return[e("img",{src:(L=(i=a(r))==null?void 0:i.masterData)==null?void 0:L.logo,class:"object-fit-cover",alt:"Login"},null,8,ie)]}),_:1})]),e("div",re,[e("div",de,[e("h3",ce,l(t.$t("Login")),1),e("span",ue,l(t.$t("Boost your skill always and forever"))+".",1),e("form",{class:"my-4",onSubmit:G(P,["prevent"])},[e("div",me,[F(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=i=>w.value=i),class:"form-control",placeholder:t.$t("Email Address")},null,8,pe),[[H,w.value]]),a(p).email?(m(),u("p",ge,l(a(p).email[0]),1)):f("",!0)]),e("div",fe,[F(e("input",{type:a(d)?"text":"password","onUpdate:modelValue":s[1]||(s[1]=i=>b.value=i),class:"form-control",placeholder:t.$t("Password")},null,8,ve),[[Y,b.value]]),a(p).password?(m(),u("p",ye,l(a(p).password[0]),1)):f("",!0),e("div",{class:"eye-icon",onClick:s[2]||(s[2]=i=>q(d)?d.value=!a(d):d=!a(d))},[S(a(Z),{icon:a(d)?a(W):a(X)},null,8,["icon"])])]),S(c,{to:"/reset_password",class:"small d-block text-decoration-none mb-4"},{default:x(()=>[h(l(t.$t("Forgot your password"))+"?",1)]),_:1}),e("button",he,[e("span",{class:J({loader:k.value})},l(D.value),3)])],32),e("span",null,[h(l(t.$t("Don't have an account"))+"? ",1),S(c,{to:"/register"},{default:x(()=>[h(l(t.$t("Sign Up")),1)]),_:1})]),((E=(T=a(r))==null?void 0:T.masterData)==null?void 0:E.mode)=="local"?(m(),u("div",_e,[e("div",null,[e("strong",null,l(t.$t("Email"))+":",1),s[4]||(s[4]=h(" user@readylms.com ",-1)),s[5]||(s[5]=e("br",null,null,-1)),e("strong",null,l(t.$t("Password"))+":",1),s[6]||(s[6]=h(" secret@123 ",-1))]),e("button",{onClick:s[3]||(s[3]=i=>V("user@readylms.com","secret@123")),class:"btn btn-sm btn-outline-primary small float-end"},l(t.$t("Copy")),1)])):f("",!0)])])]),s[7]||(s[7]=e("div",{class:"col-6 d-none d-lg-block"},[e("img",{src:"/assets/images/website/image.png",class:"side-image object-fit-cover w-100 h-100"})],-1))])])]))],64)}}},xe=A(we,[["__scopeId","data-v-fe560aff"]]);export{xe as default};
